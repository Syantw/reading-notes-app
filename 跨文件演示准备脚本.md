# 🎯 Cursor 跨文件 Tab 演示 - 准备脚本

## 📋 演示前准备 (必须按顺序执行)

### 1️⃣ **打开文件 Tabs**
在 Cursor 中按顺序打开以下文件：
- [ ] `src/App.js`
- [ ] `src/components/Sidebar.js`  
- [ ] `src/components/NoteList.js`
- [ ] `src/components/SearchBar.js` (空文件)

### 2️⃣ **确认初始状态**
检查各文件的当前状态：

**App.js** - 缺少搜索相关功能：
```javascript
// 目前只有主题相关状态，缺少搜索状态
const [theme, setTheme] = useState("light");
// 需要添加：
// const [searchQuery, setSearchQuery] = useState("");
// const [showSearch, setShowSearch] = useState(false);
```

**Sidebar.js** - 搜索按钮缺少点击事件：
```javascript
<span 
  style={{ color: textColor, fontWeight: 500, cursor: "pointer" }}
  // onClick={} // 等待 Cursor 建议补全
>
  🔍 Search
</span>
```

**NoteList.js** - 没有搜索过滤功能：
```javascript
// 目前直接渲染所有笔记，没有搜索过滤
{notes.map((note, idx) => (
```

**SearchBar.js** - 空文件：
```javascript
// 空文件 - 用于演示 Cursor 跨文件智能建议
```

---

## 🎬 演示执行步骤

### 第一步：在 App.js 中添加搜索功能 (2分钟)

**💬 说话要点**：
> "我现在要给应用添加搜索功能。先在主文件中添加搜索状态。重点观察当我修改这个文件后，Cursor 如何在其他文件中提供智能建议。"

**具体操作**：
1. **切换到 App.js tab**
2. **在主题状态下方添加**：
```javascript
const [searchQuery, setSearchQuery] = useState("");
const [showSearch, setShowSearch] = useState(false);

const handleSearch = (query) => {
  setSearchQuery(query);
};

const toggleSearch = () => {
  setShowSearch(!showSearch);
};
```

3. **保存文件** (Cmd+S / Ctrl+S)
4. **等待 3-5 秒** 让 Cursor 分析修改

### 第二步：验证 Sidebar.js 的智能建议 (1.5分钟)

**💬 说话要点**：
> "现在切换到侧边栏文件，看看 Cursor 是否理解了我添加的搜索功能，并建议相应的修改。"

**具体操作**：
1. **切换到 Sidebar.js tab**
2. **点击搜索按钮的注释行**：`// onClick={} // 等待 Cursor 建议补全`
3. **删除注释，输入**：`onClick={`
4. **⭐ 观察 Cursor 建议** - 应该提示 `onToggleSearch` 或类似的函数名
5. **接受建议并补全**：`onClick={onToggleSearch}`
6. **在组件参数中添加**：`, onToggleSearch` (观察 Cursor 是否建议)

### 第三步：验证 NoteList.js 的智能建议 (1.5分钟)

**💬 说话要点**：
> "现在看笔记列表组件，Cursor 应该理解我们需要搜索过滤功能。"

**具体操作**：
1. **切换到 NoteList.js tab**
2. **在组件参数中输入**：`, search` 
3. **⭐ 观察 Cursor 建议** - 应该提示 `searchQuery`
4. **在组件内部添加过滤逻辑**：
```javascript
// 输入这个开头，观察 Cursor 的建议：
const filteredNotes = searchQuery
```
5. **⭐ 观察 Cursor 建议** - 应该提示完整的过滤逻辑

### 第四步：验证 SearchBar.js 的智能建议 (2分钟)

**💬 说话要点**：
> "最精彩的部分来了。这是一个空文件，看看 Cursor 如何基于整个项目的上下文建议完整的搜索组件。"

**具体操作**：
1. **切换到 SearchBar.js tab**
2. **删除现有内容，从头开始**
3. **输入**：`import React from`
4. **⭐ 观察 Cursor 建议** - 应该建议 React 导入
5. **输入**：`function SearchBar(`
6. **⭐ 观察 Cursor 建议** - 应该建议参数如 `{ searchQuery, onSearch, theme }`
7. **继续输入，观察 Cursor 如何建议整个组件结构**

### 第五步：最终测试和展示 (1分钟)

**💬 说话要点**：
> "现在让我们测试一下这些智能建议是否正确，搜索功能是否正常工作。"

**具体操作**：
1. **切换到浏览器**
2. **点击搜索按钮** (如果已实现切换功能)
3. **输入搜索词测试过滤效果**
4. **展示搜索在不同主题下的效果**

---

## 🎯 关键演示要点

### ✅ **重点强调的 Cursor 能力**：

1. **跨文件上下文理解**
   > "Cursor 不只看当前文件，它分析了整个项目的结构和意图"

2. **功能关联识别** 
   > "它理解了搜索功能需要哪些组件协同工作"

3. **API 设计建议**
   > "注意它建议的函数名和参数都很合理，符合 React 最佳实践"

4. **代码模式复用**
   > "它学会了我们项目的编码风格，建议的代码风格一致"

### 🔍 **观察的具体指标**：

- [ ] 函数名建议准确 (`onToggleSearch`, `handleSearch`)
- [ ] 参数传递建议正确 (`searchQuery`, `onSearch`)
- [ ] 组件结构建议完整 (包含样式、主题适配)
- [ ] 过滤逻辑建议合理 (标题和内容搜索)

### ⚠️ **可能的挑战和应对**：

1. **建议不出现**：等待更长时间，或添加更多上下文
2. **建议不准确**：说明这是学习过程，手动完成
3. **文件分析不及时**：重新保存文件，或重启 Cursor

---

## 💡 演示成功的标志

如果看到以下现象，说明演示成功：

✅ **在 Sidebar.js 中**：
- 自动建议 `onToggleSearch` 函数名
- 建议在组件参数中添加该函数

✅ **在 NoteList.js 中**：
- 建议 `searchQuery` 参数
- 建议过滤逻辑的实现

✅ **在 SearchBar.js 中**：
- 建议完整的组件结构
- 包含主题适配和样式
- 参数设计合理

**这样的演示才真正展现了 Cursor 跨文件 tab 智能建议的强大能力！** 🚀 